# üîç –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ª–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏:
```
Thread thread_sBBUou34ch8Hf92FODmJe4L6 already has an active run run_tSxf2LOMHPB7icYx1hHLRT8Z
```

## üÜï –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. –ù–æ–≤—ã–π –∫–∞–Ω–∞–ª –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ö–∞–Ω–∞–ª**: `full_generation`
- **–§–∞–π–ª**: `storage/logs/full_generation.log`
- **–£—Ä–æ–≤–µ–Ω—å**: `debug`
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**: –≤—Å–µ –∑–∞–ø–∏—Å–∏ —Ç–∞–∫–∂–µ –∏–¥—É—Ç –≤ `storage/logs/queue.log`

### 2. –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞

#### –û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã:
1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ø–∞–º—è—Ç—å, –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
2. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –ë–î, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ GPT** - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
4. **–†–∞–±–æ—Ç–∞ —Å Thread** - –ø—Ä–æ–≤–µ—Ä–∫–∞ thread_id, –∞–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è
5. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞** - –∞–Ω–∞–ª–∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
6. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–¥—Ä–∞–∑–¥–µ–ª–æ–≤** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–∞
7. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** - –∑–∞–ø–∏—Å—å –≤ –ë–î, –ø—Ä–æ–≤–µ—Ä–∫–∞
8. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ** - —Å–æ–±—ã—Ç–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

#### –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–∞:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è thread **–¥–æ** –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ thread (—Å –ø–µ—Ä–µ—Ö–≤–∞—Ç–æ–º –æ—à–∏–±–æ–∫)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è thread **–ø–æ—Å–ª–µ** –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ run (—Å –ø–µ—Ä–µ—Ö–≤–∞—Ç–æ–º –æ—à–∏–±–æ–∫)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è thread **–ø–æ—Å–ª–µ** —Å–æ–∑–¥–∞–Ω–∏—è run
- –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è run
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

### 3. –ê–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è Thread

–î–ª—è –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ thread –ª–æ–≥–≥–∏—Ä—É–µ—Ç—Å—è:
- **–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ run**
- **–ê–∫—Ç–∏–≤–Ω—ã–µ run** (queued, in_progress, requires_action)
- **–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ run** (completed)
- **–ù–µ—É–¥–∞—á–Ω—ã–µ run** (failed, cancelled, expired)
- **–î–µ—Ç–∞–ª–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö run** (ID, —Å—Ç–∞—Ç—É—Å, –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è)
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤** –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö run

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ü—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ –ª–æ–≥–≥–∏—Ä—É–µ—Ç—Å—è:
- **–°–æ–æ–±—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏**
- **–§–∞–π–ª –∏ —Å—Ç—Ä–æ–∫–∞** –≥–¥–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
- **–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Å—Ç–µ–∫–∞**
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** –¥–æ –æ—à–∏–±–∫–∏
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —à–∞–≥–æ–≤**
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏**
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç** (–∫–∞–∫–æ–π –ø–æ–¥—Ä–∞–∑–¥–µ–ª, thread_id, –∏ —Ç.–¥.)

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
php artisan test:full-generation-detailed {document_id}

# –ü—Ä–∏–º–µ—Ä
php artisan test:full-generation-detailed 29
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```bash
# –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ª–æ–≥–æ–≤
tail -f storage/logs/full_generation.log

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
tail -f storage/logs/full_generation.log | grep -i "–æ—à–∏–±–∫–∞\|error"

# –¢–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —ç—Ç–∞–ø—ã
tail -f storage/logs/full_generation.log | grep -E "–®–ê–ì.*:(–ù–ê–ß–ê–õ–û|–û–®–ò–ë–ö–ê|–ó–ê–í–ï–†–®–ï–ù)"

# –ê–Ω–∞–ª–∏–∑ thread —Å–æ—Å—Ç–æ—è–Ω–∏–π
tail -f storage/logs/full_generation.log | grep -i "thread"
```

### –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ—à–∏–±–∫–∏

```bash
# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ run
grep -A 5 -B 5 "active run" storage/logs/full_generation.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
grep -A 10 -B 5 "–¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è" storage/logs/full_generation.log

# –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
grep "time_from_start" storage/logs/full_generation.log | tail -20
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤

### –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏
```json
{
  "step": 15,
  "timestamp": "2025-01-30 14:23:45.123",
  "time_from_start": "12.456s",
  "memory_usage": 67108864,
  "memory_peak": 71303168,
  "document_id": 29,
  "thread_id": "thread_sBBUou34ch8Hf92FODmJe4L6",
  "subtopic_title": "–í–≤–µ–¥–µ–Ω–∏–µ –≤ —Ç–µ–º—É",
  "error": "Thread already has an active run",
  "error_file": "/path/to/file.php",
  "error_line": 123
}
```

### –ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è
- **step** - –Ω–æ–º–µ—Ä —à–∞–≥–∞ (—Å–∫–≤–æ–∑–Ω–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è)
- **timestamp** - —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è —Å –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞–º–∏
- **time_from_start** - –≤—Ä–µ–º—è —Å –Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **memory_usage** - —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- **memory_peak** - –ø–∏–∫–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- **document_id** - ID –¥–æ–∫—É–º–µ–Ω—Ç–∞
- **thread_id** - ID thread OpenAI
- **subtopic_title** - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–∞
- **error** - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- **context** - –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ thread

## üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Thread already has an active run"

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö:**
1. –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è thread –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
2. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö run –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
3. –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –º–µ–∂–¥—É –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
4. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –º–µ—Ç–æ–¥–æ–º `hasActiveRuns()` –∏ —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π

**–ö–ª—é—á–µ–≤—ã–µ —à–∞–≥–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:**
```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ thread –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞
grep "document_id.*29" storage/logs/full_generation.log | grep -i "thread"

# –ù–∞–π—Ç–∏ –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ run
grep "–ê–ö–¢–ò–í–ù–´–ô RUN" storage/logs/full_generation.log

# –ü—Ä–æ—Å–ª–µ–¥–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π
grep "document_id.*29" storage/logs/full_generation.log | grep -E "(–¥–æ–±–∞–≤–ª–µ–Ω–∏–∏|—Å–æ–∑–¥–∞–Ω–∏–∏|–æ–∂–∏–¥–∞–Ω–∏–∏)"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
1. –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
2. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
3. –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è run
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø–æ–ª–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
1. –ù–∞ –∫–∞–∫–æ–º –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
2. –ü–æ—Å–ª–µ–¥–Ω–∏–π —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π —à–∞–≥
3. –°–æ—Å—Ç–æ—è–Ω–∏–µ thread –≤ –º–æ–º–µ–Ω—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
4. –û—à–∏–±–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è**: ~2-5% –æ—Ç –æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å**: ~1-3MB –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç
- **–†–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤**: ~50-200KB –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–æ–≤)

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –õ–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–æ—Ç–∏—Ä—É—é—Ç—Å—è Laravel
- –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `queue.log` –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è
–í —Ñ–∞–π–ª–µ `app/Jobs/StartFullGenerateDocument.php` –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–∑–æ–≤—ã `logDetailedStep()`:

```php
// $this->logDetailedStep(++$this->stepCounter, '–°–æ–æ–±—â–µ–Ω–∏–µ', $data);
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è
–í —Ñ–∞–π–ª–µ `config/logging.php`:

```php
'full_generation' => [
    'driver' => 'single',
    'path' => storage_path('logs/full_generation.log'),
    'level' => 'info', // –±—ã–ª–æ 'debug'
    'replace_placeholders' => true,
],
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ queue.log
–í –º–µ—Ç–æ–¥–µ `logDetailedStep()` –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å:

```php
// Log::channel('queue')->info("–®–ê–ì {$step}: {$message}", $logData);
```

## üéØ –¶–µ–ª—å

–î–∞–Ω–Ω–æ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª–∏—Ç:
1. **–¢–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å** –≥–¥–µ –∏ –ø–æ—á–µ–º—É –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ run
2. **–ü—Ä–æ—Å–ª–µ–¥–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –æ–ø–µ—Ä–∞—Ü–∏–π —Å thread
3. **–í—ã—è–≤–∏—Ç—å race conditions** –º–µ–∂–¥—É –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å** –ø—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
5. **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å** –ø–æ–¥–æ–±–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ –±—É–¥—É—â–µ–º

–ü–æ—Å–ª–µ –≤—ã—è–≤–ª–µ–Ω–∏—è –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å. 